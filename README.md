# Экосистема DAAR/DAARION

## Обзор проекта
Экосистема DAAR/DAARION представляет собой набор смарт-контрактов, предназначенных для управления токенами DAAR и DAARION, которые играют ключевую роль в платформе GreenFood. DAAR используется как платежный токен для покупки инвентаря GreenFood, а DAARION — как инвестиционный токен, доступный только в паре с DAAR. Экосистема включает в себя четыре основных смарт-контракта: DAAR, DAARION, APRStaking и DAARDistributor.

### Цель
- Управление платежами и инвестициями в рамках платформы GreenFood.
- Обеспечение прозрачности и безопасности транзакций.
- Поощрение участников через систему стейкинга и вознаграждений.

### Миссия
- Создать надежную и эффективную систему для управления токенами в экосистеме GreenFood.
- Обеспечить справедливое распределение вознаграждений и сборов.

### Видение
- Стать ведущей платформой для децентрализованных платежей и инвестиций в сфере устойчивого питания.
- Расширить возможности стейкинга и интеграции с другими DeFi-проектами.

### Цели
- Реализовать систему сборов и вознаграждений, стимулирующую участие.
- Обеспечить безопасность и прозрачность всех транзакций.
- Упростить взаимодействие пользователей с платформой.

## Описание смарт-контрактов
### 1. DAAR
- **Назначение**: Основной платежный токен для покупок в GreenFood.
- **Особенности**:
  - Сбор комиссии 0.5% на каждый прямой перевод, которая направляется на адрес `walletD`.
  - Баланс `walletD` периодически распределяется через контракт DAARDistributor в зависимости от стейков.
- **Ключевые функции**:
  - `transfer`: Перевод токенов с комиссией.
  - `mint`: Чеканка новых токенов (только для роли MINTER_ROLE).
  - `burn`: Сжигание токенов (доступно для всех пользователей).

### 2. DAARION
- **Назначение**: Инвестиционный токен, торгуемый только в паре с DAAR.
- **Особенности**:
  - Сбор налога 5% на продажу, который сжигается.
  - Исключение из налога для определенных адресов (`wallet1`, `walletD`, `walletR`).
- **Ключевые функции**:
  - `transfer`: Перевод токенов с налогом.
  - `mint`: Чеканка новых токенов (только для роли MINTER_ROLE).
  - `burn`: Сжигание токенов (доступно для всех пользователей).

### 3. APRStaking
- **Назначение**: Контракт для стейкинга DAAR (20% APR) и DAARION (11% APR).
- **Особенности**:
  - Вознаграждения выплачиваются в DAAR.
  - Поддерживает стейкинг как DAAR, так и DAARION.
- **Ключевые функции**:
  - `stakeDAAR`: Стейкинг DAAR.
  - `unstakeDAAR`: Вывод стейкнутых DAAR.
  - `claimRewards`: Вывод накопленных вознаграждений.

### 4. DAARDistributor
- **Назначение**: Распределение сборов с DAAR в зависимости от стейков DAARION.
- **Особенности**:
  - Вознаграждения распределяются периодически (раз в эпоху).
  - Поддерживает стейкинг DAARION.
- **Ключевые функции**:
  - `stakeDAARION`: Стейкинг DAARION.
  - `unstakeDAARION`: Вывод стейкнутых DAARION.
  - `claimRewards`: Вывод накопленных вознаграждений.

## Архитектура
- **Сбор комиссий**: Все комиссии с переводов DAAR направляются на `walletD`.
- **Распределение**: Периодически баланс `walletD` передается на DAARDistributor, где распределяется среди стейкеров DAARION пропорционально их стейкам.
- **Стейкинг**:
  - DAAR можно стейкнуть в APRStaking для получения 20% APR.
  - DAARION можно стейкнуть в DAARDistributor для получения доли от комиссий DAAR.

## Развертывание и настройка
1. **Подготовка**:
   - Установите Truffle или Hardhat для развертывания контрактов.
   - Настройте среду для взаимодействия с Ethereum (например, Ganache для тестирования).

2. **Развертывание**:
   - Используйте скрипты для развертывания каждого контракта.
   - Укажите адреса `wallet1`, `walletD`, `walletR` при инициализации.

3. **Инициализация**:
   - Инициализируйте каждый контракт с необходимыми параметрами.

## Использование
- **Для DAAR**:
  - Переводите токены с помощью `transfer`.
  - Сжигайте токены с помощью `burn`.
- **Для DAARION**:
  - Переводите токены с помощью `transfer`.
  - Сжигайте токены с помощью `burn`.
- **Стейкинг**:
  - Стейкните DAAR в APRStaking.
  - Стейкните DAARION в DAARDistributor.
  - Выводите вознаграждения с помощью `claimRewards`.

## Безопасность
- Используются модификаторы `onlyOwner` и роли (MINTER_ROLE, PAUSER_ROLE) для контроля доступа.
- Защита от повторного входа с помощью `ReentrancyGuardUpgradeable`.
- Все контракты поддерживают обновления через UUPS.

## Вкладчики и управление
- **Вкладчики**: Команда разработчиков и сообщество.
- **Управление**: Через мультисиг кошелек (`wallet1`).

## Будущее развитие
- Добавление новых функций стейкинга.
- Интеграция с другими DeFi-проектами.
- Оптимизация газовых затрат.

## Лицензия
- [MIT License](https://opensource.org/licenses/MIT)

## Поддержка и сообщество
- **Сообщество**: Присоединяйтесь к [Discord](https://discord.gg/daarion) или [Telegram](https://t.me/yourchannel).
- **Документация**: Подробная документация доступна на [GitHub](https://github.com/connectplatform/daarion).